In this process, we are reversing Ruby's shorthand hash syntax back to its explicit form.
Below are the specific diffs for each file. Apply the necessary fixes as outlined.
In this process, we are reversing Rubys shorthand hash syntax (e.g., `activity:`) back to its explicit form (e.g., `activity: activity`).

For example:
Before (shorthand): `activity:`
After (explicit): `activity: activity`

Similarly, if there are multiple key-value pairs:

Before (shorthand): `first_name:, last_name:, date_of_birth:`
After (explicit): `first_name: first_name, last_name: last_name, date_of_birth: date_of_birth`

Below are the specific diffs for each file. Apply the necessary fixes as outlined.


File: app/models/unsubscribe.rb
Apply the fix to this code:
@@ -6,7 +6,7 @@ class Unsubscribe < ApplicationRecord
-      contact.unsubscribe(unsub_type, data: data, propagate: false)
+      contact.unsubscribe(unsub_type, data:, propagate: false)

Apply the fix to this code:
@@ -38,7 +38,7 @@ class Unsubscribe < ApplicationRecord
 
-      unsubbed_contact_ids = Unsubscribe.where(tenant_id: tenant_id, contact_id: contact_ids, fixed: false).pluck(:contact_id)
+      unsubbed_contact_ids = Unsubscribe.where(tenant_id:, contact_id: contact_ids, fixed: false).pluck(:contact_id)

Apply the fix to this code:
@@ -60,7 +60,7 @@ class Unsubscribe < ApplicationRecord
 
-      result = Unsubscribe.where(tenant_id: tenant_id, unsub_type: unsub_type, fixed: false).where("LOWER(TRIM(unsubscribes.email)) = ?", clean_email)
+      result = Unsubscribe.where(tenant_id:, unsub_type:, fixed: false).where("LOWER(TRIM(unsubscribes.email)) = ?", clean_email)

Apply the fix to this code:
@@ -72,7 +72,7 @@ class Unsubscribe < ApplicationRecord
-      contact.unsubscribe(type, data: data)
+      contact.unsubscribe(type, data:)

File: app/models/user.rb
Apply the fix to this code:
@@ -1103,7 +1103,7 @@ class User < ApplicationRecord
 
-    Asset.where(id: banner_id, enterprise_id: enterprise_id, category: "Banner").first
+    Asset.where(id: banner_id, enterprise_id:, category: "Banner").first

Apply the fix to this code:
@@ -1144,8 +1144,8 @@ class User < ApplicationRecord
-      tenant_ids = User.where(enterprise: enterprise, parent_id: parent_id).pluck(:tenant_id)
-      result = Tenant.where(enterprise: enterprise, id: tenant_ids) if tenant_ids.count > 0
+      tenant_ids = User.where(enterprise:, parent_id:).pluck(:tenant_id)
+      result = Tenant.where(enterprise:, id: tenant_ids) if tenant_ids.count > 0

Apply the fix to this code:
@@ -1159,8 +1159,8 @@ class User < ApplicationRecord
-      tenant_ids = User.where(enterprise: enterprise, parent_id: parent_id).pluck(:tenant_id)
-      result = Tenant.where(enterprise: enterprise, id: tenant_ids) if tenant_ids.count > 0
+      tenant_ids = User.where(enterprise:, parent_id:).pluck(:tenant_id)
+      result = Tenant.where(enterprise:, id: tenant_ids) if tenant_ids.count > 0

Apply the fix to this code:
@@ -1179,7 +1179,7 @@ class User < ApplicationRecord
 
-    User.unscoped.where(parent_id: parent_id)
+    User.unscoped.where(parent_id:)

Apply the fix to this code:
@@ -1232,7 +1232,7 @@ class User < ApplicationRecord
 
-    user = User.unscoped.find_or_initialize_by(tenant_id: target_tenant.id, enterprise_id: target_tenant.enterprise.id, parent_id: parent_id)
+    user = User.unscoped.find_or_initialize_by(tenant_id: target_tenant.id, enterprise_id: target_tenant.enterprise.id, parent_id:)

Apply the fix to this code:
@@ -1272,7 +1272,7 @@ class User < ApplicationRecord
 
-    user = User.unscoped.where(tenant_id: target_tenant.id, parent_id: parent_id).first
+    user = User.unscoped.where(tenant_id: target_tenant.id, parent_id:).first

Apply the fix to this code:
@@ -1283,7 +1283,7 @@ class User < ApplicationRecord
 
 
-    user = User.unscoped.where(tenant_id: target_tenant.id, parent_id: parent_id).first
+    user = User.unscoped.where(tenant_id: target_tenant.id, parent_id:).first

Apply the fix to this code:
@@ -1540,7 +1540,7 @@ class User < ApplicationRecord
-        CalendarEntryDeletion.find_or_create_by(user_id: id, calendar_ident: calendar_id, entry_ident: event_id, send_updates: send_updates)
+        CalendarEntryDeletion.find_or_create_by(user_id: id, calendar_ident: calendar_id, entry_ident: event_id, send_updates:)

Apply the fix to this code:
@@ -1662,11 +1662,11 @@ class User < ApplicationRecord
 
-    Meeting.where(tenant: tenant, user_id: id).order(created_at: :asc)
+    Meeting.where(tenant:, user_id: id).order(created_at: :asc)
 
-    PhoneCall.where(tenant: tenant, caller_user_id: id)
+    PhoneCall.where(tenant:, caller_user_id: id)

File: app/models/user_config.rb
Apply the fix to this code:
@@ -4,7 +4,7 @@ class UserConfig < ApplicationRecord
 
-    config = UserConfig.find_or_initialize_by(user: user, option: option)
+    config = UserConfig.find_or_initialize_by(user:, option:)

File: app/models/utils/account_statement.rb
Apply the fix to this code:
@@ -236,7 +236,7 @@ class Utils::AccountStatement
-                    @invoice_pdfs << {invoice: invoice, pdf_pages: pages}
+                    @invoice_pdfs << {invoice:, pdf_pages: pages}

File: app/models/utils/data_generation.rb
Apply the fix to this code:
@@ -21,9 +21,9 @@ class Utils::DataGeneration
 
-                               company: company,
+                               company:,
-                               last_name: last_name,
+                               last_name:,

Apply the fix to this code:
@@ -42,7 +42,7 @@ class Utils::DataGeneration
-      user = User.create!(first_name: first_name,
+      user = User.create!(first_name:,

Apply the fix to this code:
@@ -53,7 +53,7 @@ class Utils::DataGeneration
 
-      sales_rep = SalesRep.create!(name: name,
+      sales_rep = SalesRep.create!(name:,

Apply the fix to this code:
@@ -74,7 +74,7 @@ class Utils::DataGeneration
-                                 company: company,
+                                 company:,

Apply the fix to this code:
@@ -130,7 +130,7 @@ class Utils::DataGeneration
-        deferred: deferred,
+        deferred:,

Apply the fix to this code:
@@ -151,8 +151,8 @@ class Utils::DataGeneration
-      invoice = Invoice.create!(company: company,
-                                invoice_number: invoice_number,
+      invoice = Invoice.create!(company:,
+                                invoice_number:,

Apply the fix to this code:
@@ -170,7 +170,7 @@ class Utils::DataGeneration
-                                platform_data: platform_data,
+                                platform_data:,

File: app/models/utils/pdf.rb
Apply the fix to this code:
@@ -33,7 +33,7 @@ class Utils::Pdf
 
-      s3 = Aws::S3::Client.new(credentials: credentials, region: RegionConfig.require_value("bucket_region"))
+      s3 = Aws::S3::Client.new(credentials:, region: RegionConfig.require_value("bucket_region"))

Apply the fix to this code:
@@ -61,7 +61,7 @@ class Utils::Pdf
 
-      pdf = ::Pdf.find_or_initialize_by(key: key, platform_id: platform_id)
+      pdf = ::Pdf.find_or_initialize_by(key:, platform_id:)

File: app/models/utils/sqs_read.rb
Apply the fix to this code:
@@ -71,9 +71,9 @@ class Utils::SqsRead
-        campaign_message.contact.unsubscribe("hard_bounce", data: {bounce_reason: bounce_reason, campaign_message_ids: [campaign_message.id]})
+        campaign_message.contact.unsubscribe("hard_bounce", data: {bounce_reason:, campaign_message_ids: [campaign_message.id]})
-        campaign_message.contact.unsubscribe("soft_bounce", data: {bounce_reason: bounce_reason, campaign_message_ids: [campaign_message.id]})
+        campaign_message.contact.unsubscribe("soft_bounce", data: {bounce_reason:, campaign_message_ids: [campaign_message.id]})

File: app/presenters/customers_sales_metrics_presenter.rb
Apply the fix to this code:
@@ -60,7 +60,7 @@ class CustomersSalesMetricsPresenter < BasePresenter
-      self.monthly_data[:current_year]  << { name: "#{I18n.t("date.month_names")[m]} #{@start_date.year}", sales: monthly_data[i].to_f, difference: difference, delta: delta }
+      self.monthly_data[:current_year]  << { name: "#{I18n.t("date.month_names")[m]} #{@start_date.year}", sales: monthly_data[i].to_f, difference:, delta: }

File: app/presenters/enterprises/net_promoter_presenter.rb
Apply the fix to this code:
@@ -46,7 +46,7 @@ class Enterprises::NetPromoterPresenter < BasePresenter
-          tenant: tenant,
+          tenant:,

File: app/presenters/reports/inquiry_stats_presenter.rb
Apply the fix to this code:
@@ -104,10 +104,10 @@ module Reports
 
-          estimates_quantity: estimates_quantity,
-          estimates_value: estimates_value,
-          invoices_quantity: invoices_quantity,
-          invoices_value: invoices_value,
+          estimates_quantity:,
+          estimates_value:,
+          invoices_quantity:,
+          invoices_value:,

File: app/presenters/reports/ladder_presenter.rb
Apply the fix to this code:
@@ -108,7 +108,7 @@ module Reports
 
-      sql = ActiveRecord::Base.send(:sanitize_sql, [sql, start_date: start_date, end_date: end_date, enterprise_id: enterprise_id])
+      sql = ActiveRecord::Base.send(:sanitize_sql, [sql, start_date:, end_date:, enterprise_id:])

Apply the fix to this code:
@@ -130,7 +130,7 @@ module Reports
 
-      sql = ActiveRecord::Base.send(:sanitize_sql, [sql, start_date: start_date, end_date: end_date, enterprise_id: enterprise_id])
+      sql = ActiveRecord::Base.send(:sanitize_sql, [sql, start_date:, end_date:, enterprise_id:])

File: app/presenters/reports_dashboard_presenter.rb
Apply the fix to this code:
@@ -225,12 +225,12 @@ class ReportsDashboardPresenter < BasePresenter
-      title: title,
+      title:,
-      color: color
+      color:

File: app/presenters/sales_metrics_presenter.rb
Apply the fix to this code:
@@ -932,7 +932,7 @@ class SalesMetricsPresenter < BasePresenter
-      sales_data << { name: I18n.l(date, format: "%b %Y"), sales: sales }
+      sales_data << { name: I18n.l(date, format: "%b %Y"), sales: }

File: app/queries/new_customer_leads_dashboard_query.rb
Apply the fix to this code:
@@ -78,7 +78,7 @@ class NewCustomerLeadsDashboardQuery < Common::Query
-        url: url,
+        url:,

File: app/services/ai.rb
Apply the fix to this code:
@@ -30,7 +30,7 @@ module Ai
-        return model_class.new(variant: variant, **options) if variant.to_s == target_variant.to_s
+        return model_class.new(variant:, **options) if variant.to_s == target_variant.to_s

Apply the fix to this code:
@@ -60,10 +60,10 @@ module Ai
 
-      prompt: prompt,
-      model: model,
-      identifier: identifier,
-      template_id: template_id,
+      prompt:,
+      model:,
+      identifier:,
+      template_id:,

File: app/services/ai/claude_v3.rb
Apply the fix to this code:
@@ -96,7 +96,7 @@ class Ai::ClaudeV3
 
-      messages: messages
+      messages:

File: app/services/ai/gpt.rb
Apply the fix to this code:
@@ -78,7 +78,7 @@ class Ai::Gpt
 
-      messages: messages
+      messages:

File: app/services/common/csv/export.rb
Apply the fix to this code:
@@ -29,7 +29,7 @@ class Common::Csv::Export
 
-      filename: filename,
+      filename:,

File: app/services/common/csv/leads_import.rb
Apply the fix to this code:
@@ -202,7 +202,7 @@ class Common::Csv::LeadsImport
-      @errors << I18n.t("csv_b2b_b2c_field_required", line_no: index+1, input: input)
+      @errors << I18n.t("csv_b2b_b2c_field_required", line_no: index+1, input:)

Apply the fix to this code:
@@ -235,7 +235,7 @@ class Common::Csv::LeadsImport
-      @errors << I18n.t("csv_invalid_tag", line_no: index+1, tag: tag) if @row_data[:tag].nil? && @required_fields.include?("tag")
+      @errors << I18n.t("csv_invalid_tag", line_no: index+1, tag:) if @row_data[:tag].nil? && @required_fields.include?("tag")

Apply the fix to this code:
@@ -306,7 +306,7 @@ class Common::Csv::LeadsImport
-      b2b: b2b,
+      b2b:,

File: app/services/common/debug/timer.rb
Apply the fix to this code:
@@ -10,9 +10,9 @@ module Common::Debug::Timer
-      line: line,
-      timeout: timeout,
-      data: data
+      line:,
+      timeout:,
+      data:

Apply the fix to this code:
@@ -24,7 +24,7 @@ module Common::Debug::Timer
-          timer: timer
+          timer:

File: app/services/common/debug/tracer.rb
Apply the fix to this code:
@@ -18,7 +18,7 @@ class Common::Debug::Tracer
 
-    tracer = new(name: name, threshold: threshold)
+    tracer = new(name:, threshold:)

Apply the fix to this code:
@@ -52,7 +52,7 @@ class Common::Debug::Tracer
-        extra: extra,
+        extra:,

File: app/services/common/emails/creator.rb
Apply the fix to this code:
@@ -55,9 +55,9 @@ class Common::Emails::Creator
-        closing_date: closing_date,
-        master_billing: master_billing,
-        payment_date: payment_date
+        closing_date:,
+        master_billing:,
+        payment_date:

Apply the fix to this code:
@@ -71,7 +71,7 @@ class Common::Emails::Creator
-      needs_asset: needs_asset
+      needs_asset:

File: app/services/common/integration/clearbit.rb
Apply the fix to this code:
@@ -54,7 +54,7 @@ class Common::Integration::Clearbit
-        company_info = Clearbit::Enrichment::Company.find(domain: domain, stream: true)
+        company_info = Clearbit::Enrichment::Company.find(domain:, stream: true)

Apply the fix to this code:
@@ -86,7 +86,7 @@ class Common::Integration::Clearbit
-        contact_info = Clearbit::Enrichment::Person.find(email: email, stream: true)
+        contact_info = Clearbit::Enrichment::Person.find(email:, stream: true)

Apply the fix to this code:
@@ -135,7 +135,7 @@ class Common::Integration::Clearbit
-        contexts = contexts.where(tenant: tenant).
+        contexts = contexts.where(tenant:).

File: app/services/common/integration/google_calendar.rb
Apply the fix to this code:
@@ -20,7 +20,7 @@ class Common::Integration::GoogleCalendar
 
-      response = @service.insert_event("primary", google_event, send_notifications: send_notifications)
+      response = @service.insert_event("primary", google_event, send_notifications:)

Apply the fix to this code:
@@ -47,7 +47,7 @@ class Common::Integration::GoogleCalendar
-      response = @service.delete_event("primary", event_identifier, send_notifications: send_notifications)
+      response = @service.delete_event("primary", event_identifier, send_notifications:)


Once you've completed the changes, ensure all modified code follows the style guide and is tested.
