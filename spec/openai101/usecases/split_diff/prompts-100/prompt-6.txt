In this process, we are reversing Ruby's shorthand hash syntax back to its explicit form.
Below are the specific diffs for each file. Apply the necessary fixes as outlined.
In this process, we are reversing Rubys shorthand hash syntax (e.g., `activity:`) back to its explicit form (e.g., `activity: activity`).

For example:
Before (shorthand): `activity:`
After (explicit): `activity: activity`

Similarly, if there are multiple key-value pairs:

Before (shorthand): `first_name:, last_name:, date_of_birth:`
After (explicit): `first_name: first_name, last_name: last_name, date_of_birth: date_of_birth`

Below are the specific diffs for each file. Apply the necessary fixes as outlined.


File: spec/models/contact_list_rule_spec.rb
Apply the fix to this code:
@@ -9,14 +9,14 @@ RSpec.describe ContactListRule, type: :model do
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }
 
-  let(:contact_list_1) { FactoryBot.create(:contact_list, :trait1, enterprise: enterprise, tenant: tenant) }
-  let(:contact_list_2) { FactoryBot.create(:contact_list, :trait2, enterprise: enterprise, tenant: tenant) }
-  let(:taken_by) { FactoryBot.create(:taken_by, :trait1, location: location_trait1, tenant: tenant, user: user_trait1) }
+  let(:contact_list_1) { FactoryBot.create(:contact_list, :trait1, enterprise:, tenant:) }
+  let(:contact_list_2) { FactoryBot.create(:contact_list, :trait2, enterprise:, tenant:) }
+  let(:taken_by) { FactoryBot.create(:taken_by, :trait1, location: location_trait1, tenant:, user: user_trait1) }
 
-  let(:contact_list_rule_1) { FactoryBot.create(:contact_list_rule, :trait1, contact_list: contact_list_1, taken_by: taken_by) }
-  let(:contact_list_rule_2) { FactoryBot.create(:contact_list_rule, :trait2, contact_list: contact_list_2, taken_by: taken_by) }
+  let(:contact_list_rule_1) { FactoryBot.create(:contact_list_rule, :trait1, contact_list: contact_list_1, taken_by:) }
+  let(:contact_list_rule_2) { FactoryBot.create(:contact_list_rule, :trait2, contact_list: contact_list_2, taken_by:) }

Apply the fix to this code:
@@ -70,7 +70,7 @@ RSpec.describe ContactListRule, type: :model do
 
-      let(:contact_list_rule_3) { FactoryBot.build(:contact_list_rule, :trait1, contact_list: contact_list_1, taken_by: taken_by, category: "b2b") }
+      let(:contact_list_rule_3) { FactoryBot.build(:contact_list_rule, :trait1, contact_list: contact_list_1, taken_by:, category: "b2b") }

Apply the fix to this code:
@@ -85,7 +85,7 @@ RSpec.describe ContactListRule, type: :model do
 
-      let(:contact_list_rule_4) { FactoryBot.build(:contact_list_rule, :trait1, contact_list: contact_list_1, taken_by: taken_by, category: "first_estimate_date", modifier: "date", modifier_operand: "After") }
+      let(:contact_list_rule_4) { FactoryBot.build(:contact_list_rule, :trait1, contact_list: contact_list_1, taken_by:, category: "first_estimate_date", modifier: "date", modifier_operand: "After") }

File: spec/models/custom_form_element_spec.rb
Apply the fix to this code:
@@ -2,14 +2,14 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:contact) { create(:contact, :trait1, tenant: tenant, company: company) }
-  let(:custom_form) { create(:custom_form, enterprise: enterprise) }
-  let(:custom_form_element) { create(:custom_form_element, custom_form: custom_form, element_type: :scale) }
-  let(:custom_form_response) { create(:custom_form_response, custom_form: custom_form, contact: contact) }
-  let(:label1) { create(:custom_form_label, custom_form: custom_form, custom_form_element: custom_form_element, condition: :range, value: "1-6", color: "red") }
-  let(:label2) { create(:custom_form_label, custom_form: custom_form, custom_form_element: custom_form_element, condition: :range, value: "4-10", color: "green") }
+  let(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:contact) { create(:contact, :trait1, tenant:, company:) }
+  let(:custom_form) { create(:custom_form, enterprise:) }
+  let(:custom_form_element) { create(:custom_form_element, custom_form:, element_type: :scale) }
+  let(:custom_form_response) { create(:custom_form_response, custom_form:, contact:) }
+  let(:label1) { create(:custom_form_label, custom_form:, custom_form_element:, condition: :range, value: "1-6", color: "red") }
+  let(:label2) { create(:custom_form_label, custom_form:, custom_form_element:, condition: :range, value: "4-10", color: "green") }

File: spec/models/custom_form_response_spec.rb
Apply the fix to this code:
@@ -3,22 +3,22 @@ require "rails_helper"
-  let!(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let!(:user) { create(:user, :trait3, enterprise: enterprise, tenant: tenant) }
-  let!(:company) { create(:company, :trait1, tenant: tenant) }
-  let!(:contact) { create(:contact, :trait1, tenant: tenant, company: company) }
-  let!(:company2) { create(:company, :trait2, tenant: tenant) }
-  let!(:contact2) { create(:contact, :trait2, tenant: tenant, company: company2) }
-  let!(:sales_rep) { create(:sales_rep, user: user, tenant: tenant) }
-  let!(:custom_form) { create(:custom_form, enterprise: enterprise) }
-  let!(:custom_form_element) { create(:custom_form_element, custom_form: custom_form, element_type: :scale, question: "Scale question") }
-  let!(:custom_form_element2) { create(:custom_form_element, custom_form: custom_form, element_type: :short_form, question: "Short question") }
-  let!(:custom_form_element3) { create(:custom_form_element, custom_form: custom_form, element_type: :long_form, question: "Long question") }
-  let!(:custom_form_response) { create(:custom_form_response, custom_form: custom_form, contact: contact) }
-  let(:custom_form_response2) { build(:custom_form_response, custom_form: custom_form, contact: contact) }
-  let!(:custom_form_response3) { create(:custom_form_response, custom_form: custom_form, contact: contact2) }
-  let!(:label1) { create(:custom_form_label, custom_form: custom_form, custom_form_element: custom_form_element, condition: :range, value: "1-6", color: "red") }
-  let!(:label2) { create(:custom_form_label, custom_form: custom_form, custom_form_element: custom_form_element, condition: :range, value: "4-10", color: "green") }
+  let!(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let!(:user) { create(:user, :trait3, enterprise:, tenant:) }
+  let!(:company) { create(:company, :trait1, tenant:) }
+  let!(:contact) { create(:contact, :trait1, tenant:, company:) }
+  let!(:company2) { create(:company, :trait2, tenant:) }
+  let!(:contact2) { create(:contact, :trait2, tenant:, company: company2) }
+  let!(:sales_rep) { create(:sales_rep, user:, tenant:) }
+  let!(:custom_form) { create(:custom_form, enterprise:) }
+  let!(:custom_form_element) { create(:custom_form_element, custom_form:, element_type: :scale, question: "Scale question") }
+  let!(:custom_form_element2) { create(:custom_form_element, custom_form:, element_type: :short_form, question: "Short question") }
+  let!(:custom_form_element3) { create(:custom_form_element, custom_form:, element_type: :long_form, question: "Long question") }
+  let!(:custom_form_response) { create(:custom_form_response, custom_form:, contact:) }
+  let(:custom_form_response2) { build(:custom_form_response, custom_form:, contact:) }
+  let!(:custom_form_response3) { create(:custom_form_response, custom_form:, contact: contact2) }
+  let!(:label1) { create(:custom_form_label, custom_form:, custom_form_element:, condition: :range, value: "1-6", color: "red") }
+  let!(:label2) { create(:custom_form_label, custom_form:, custom_form_element:, condition: :range, value: "4-10", color: "green") }

Apply the fix to this code:
@@ -191,7 +191,7 @@ RSpec.describe CustomFormResponse, type: :model do
 
-      unanswered_element = create(:custom_form_element, custom_form: custom_form, element_type: :short_form, question: "Unanswered question")
+      unanswered_element = create(:custom_form_element, custom_form:, element_type: :short_form, question: "Unanswered question")

File: spec/models/custom_form_spec.rb
Apply the fix to this code:
@@ -2,12 +2,12 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:contact) { create(:contact, :trait1, tenant: tenant, company: company) }
-  let(:custom_form) { create(:custom_form, enterprise: enterprise) }
-  let(:custom_form_element) { create(:custom_form_element, custom_form: custom_form, element_type: :scale) }
-  let(:custom_form_response) { create(:custom_form_response, custom_form: custom_form, contact: contact) }
+  let(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:contact) { create(:contact, :trait1, tenant:, company:) }
+  let(:custom_form) { create(:custom_form, enterprise:) }
+  let(:custom_form_element) { create(:custom_form_element, custom_form:, element_type: :scale) }
+  let(:custom_form_response) { create(:custom_form_response, custom_form:, contact:) }

Apply the fix to this code:
@@ -18,8 +18,8 @@ RSpec.describe CustomForm, type: :model do
 
-    let(:element1) { create(:custom_form_element, custom_form: custom_form, page: 1) }
-    let(:element2) { create(:custom_form_element, custom_form: custom_form, page: 2) }
+    let(:element1) { create(:custom_form_element, custom_form:, page: 1) }
+    let(:element2) { create(:custom_form_element, custom_form:, page: 2) }

Apply the fix to this code:
@@ -52,9 +52,9 @@ RSpec.describe CustomForm, type: :model do
-        create(:custom_form_label, :promoter, custom_form: custom_form, custom_form_element: custom_form_element, value: "9-10")
-        create(:custom_form_label, :passive, custom_form: custom_form, custom_form_element: custom_form_element, value: "6-8")
-        create(:custom_form_label, :detractor, custom_form: custom_form, custom_form_element: custom_form_element, value: "0-5")
+        create(:custom_form_label, :promoter, custom_form:, custom_form_element:, value: "9-10")
+        create(:custom_form_label, :passive, custom_form:, custom_form_element:, value: "6-8")
+        create(:custom_form_label, :detractor, custom_form:, custom_form_element:, value: "0-5")

Apply the fix to this code:
@@ -64,8 +64,8 @@ RSpec.describe CustomForm, type: :model do
 
-        create(:custom_form_label, :promoter, custom_form: custom_form, custom_form_element: custom_form_element, value: "9-10")
-        create(:custom_form_label, :passive, custom_form: custom_form, custom_form_element: custom_form_element, value: "6-8")
+        create(:custom_form_label, :promoter, custom_form:, custom_form_element:, value: "9-10")
+        create(:custom_form_label, :passive, custom_form:, custom_form_element:, value: "6-8")

File: spec/models/estimate_spec.rb
Apply the fix to this code:
@@ -19,7 +19,7 @@ RSpec.describe Estimate, type: :model do
-      tenant: tenant)
+      tenant:)

Apply the fix to this code:
@@ -32,34 +32,34 @@ RSpec.describe Estimate, type: :model do
-      tenant: tenant)
+      tenant:)
 
 
-  let(:enterprise) { FactoryBot.create(:enterprise, :trait1, platform_type: platform_type) }
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
+  let(:enterprise) { FactoryBot.create(:enterprise, :trait1, platform_type:) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }
 
-  let(:user_trait1) { FactoryBot.create(:user, :trait1, token: token_trait1, enterprise: enterprise, tenant: tenant) }
-  let(:user_trait2) { FactoryBot.create(:user, :trait2, token: token_trait2, enterprise: enterprise, tenant: tenant) }
+  let(:user_trait1) { FactoryBot.create(:user, :trait1, token: token_trait1, enterprise:, tenant:) }
+  let(:user_trait2) { FactoryBot.create(:user, :trait2, token: token_trait2, enterprise:, tenant:) }
 
-  let(:location_trait1) { FactoryBot.create(:location, :trait1, identity: identity_trait1, tenant: tenant) }
-  let(:location_trait2) { FactoryBot.create(:location, :trait2, identity: identity_trait2, tenant: tenant) }
+  let(:location_trait1) { FactoryBot.create(:location, :trait1, identity: identity_trait1, tenant:) }
+  let(:location_trait2) { FactoryBot.create(:location, :trait2, identity: identity_trait2, tenant:) }
 
-  let(:contact_trait1) { FactoryBot.create(:contact, :trait1, inquiry: inquiry_trait1, location_user_id: location_trait1.id, sales_rep_user_id: user_trait1.id, address: address_trait1, company: company_trait1, lead_type: lead_type_trait1, parent_contact: nil , prospect_status: prospect_status_trait1, tenant: tenant) }
-  let(:company_trait1) { FactoryBot.build(:company, :trait1, tenant: tenant, location_user_id: location_trait1.id) } ## , location: location_trait1) }
+  let(:contact_trait1) { FactoryBot.create(:contact, :trait1, inquiry: inquiry_trait1, location_user_id: location_trait1.id, sales_rep_user_id: user_trait1.id, address: address_trait1, company: company_trait1, lead_type: lead_type_trait1, parent_contact: nil , prospect_status: prospect_status_trait1, tenant:) }
+  let(:company_trait1) { FactoryBot.build(:company, :trait1, tenant:, location_user_id: location_trait1.id) } ## , location: location_trait1) }
-  let(:lead_type_trait1) { FactoryBot.build(:lead_type, :trait1, tenant: tenant, enterprise: enterprise) }
-  let(:prospect_status_trait1) { FactoryBot.build(:prospect_status, :trait1, enterprise: enterprise) }
+  let(:lead_type_trait1) { FactoryBot.build(:lead_type, :trait1, tenant:, enterprise:) }
+  let(:prospect_status_trait1) { FactoryBot.build(:prospect_status, :trait1, enterprise:) }
 
-  let(:contact_trait2) { FactoryBot.create(:contact, :trait2, inquiry: inquiry_trait2, location_user_id: location_trait2.id, sales_rep_user_id: user_trait2.id, address: address_trait2, company: company_trait2, lead_type: lead_type_trait2, parent_contact: nil , prospect_status: prospect_status_trait2, tenant: tenant) }
-  let(:company_trait2) { FactoryBot.build(:company, :trait2, tenant: tenant, location_user_id: location_trait2.id) } ## , location: location_trait2) }
+  let(:contact_trait2) { FactoryBot.create(:contact, :trait2, inquiry: inquiry_trait2, location_user_id: location_trait2.id, sales_rep_user_id: user_trait2.id, address: address_trait2, company: company_trait2, lead_type: lead_type_trait2, parent_contact: nil , prospect_status: prospect_status_trait2, tenant:) }
+  let(:company_trait2) { FactoryBot.build(:company, :trait2, tenant:, location_user_id: location_trait2.id) } ## , location: location_trait2) }
-  let(:lead_type_trait2) { FactoryBot.build(:lead_type, :trait2, tenant: tenant, enterprise: enterprise) }
-  let(:prospect_status_trait2) { FactoryBot.build(:prospect_status, :trait2, enterprise: enterprise) }
+  let(:lead_type_trait2) { FactoryBot.build(:lead_type, :trait2, tenant:, enterprise:) }
+  let(:prospect_status_trait2) { FactoryBot.build(:prospect_status, :trait2, enterprise:) }

Apply the fix to this code:
@@ -177,7 +177,7 @@ RSpec.describe Estimate, type: :model do
 
-      let(:part) { FactoryBot.create(:part, :trait1, tenant: tenant, estimate_id: estimate_trait1.id) }
+      let(:part) { FactoryBot.create(:part, :trait1, tenant:, estimate_id: estimate_trait1.id) }

Apply the fix to this code:
@@ -197,8 +197,8 @@ RSpec.describe Estimate, type: :model do
 
-      let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
-      let!(:estimate) { FactoryBot.create(:estimate, :trait1, tenant: tenant, status: "Lost") }
+      let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }
+      let!(:estimate) { FactoryBot.create(:estimate, :trait1, tenant:, status: "Lost") }

Apply the fix to this code:
@@ -215,7 +215,7 @@ RSpec.describe Estimate, type: :model do
-            estimate.update(reason: reason)
+            estimate.update(reason:)

Apply the fix to this code:
@@ -329,7 +329,7 @@ RSpec.describe Estimate, type: :model do
 
-        let(:invoice) { FactoryBot.create(:invoice, :trait1, tenant: tenant, invoice_number: "12345") }
+        let(:invoice) { FactoryBot.create(:invoice, :trait1, tenant:, invoice_number: "12345") }

File: spec/models/inquiry_spec.rb
Apply the fix to this code:
@@ -10,20 +10,20 @@ RSpec.describe Inquiry, type: :model do
 
-  let(:enterprise) { FactoryBot.create(:enterprise, :trait1, platform_type: platform_type) }
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
-  let(:inquiry_trait1) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1) }
-  let(:inquiry_trait2) { FactoryBot.create(:inquiry, :trait2, company: company_trait2, contact: contact_trait2, tenant: tenant, user: user_trait2) }
+  let(:enterprise) { FactoryBot.create(:enterprise, :trait1, platform_type:) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }
+  let(:inquiry_trait1) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1) }
+  let(:inquiry_trait2) { FactoryBot.create(:inquiry, :trait2, company: company_trait2, contact: contact_trait2, tenant:, user: user_trait2) }
 
 
-  let(:company_trait1) { FactoryBot.create(:company, :trait1, tenant: tenant) }
+  let(:company_trait1) { FactoryBot.create(:company, :trait1, tenant:) }
 
-  let(:contact_trait1) { FactoryBot.create(:contact, :trait1, address: address_trait1, company: company_trait1, tenant: tenant) }
-  let(:contact_trait2) { FactoryBot.create(:contact, :trait2, address: address_trait2, company: company_trait2, tenant: tenant) }
+  let(:contact_trait1) { FactoryBot.create(:contact, :trait1, address: address_trait1, company: company_trait1, tenant:) }
+  let(:contact_trait2) { FactoryBot.create(:contact, :trait2, address: address_trait2, company: company_trait2, tenant:) }

Apply the fix to this code:
@@ -114,7 +114,7 @@ RSpec.describe Inquiry, type: :model do
 
-            identifier = Identifier.find_or_initialize_by(name: name, position: index, enterprise: enterprise)
+            identifier = Identifier.find_or_initialize_by(name:, position: index, enterprise:)

Apply the fix to this code:
@@ -135,7 +135,7 @@ RSpec.describe Inquiry, type: :model do
-              identifier = Identifier.find_or_initialize_by(name: name, position: index, enterprise: enterprise)
+              identifier = Identifier.find_or_initialize_by(name:, position: index, enterprise:)

Apply the fix to this code:
@@ -151,7 +151,7 @@ RSpec.describe Inquiry, type: :model do
-              identifier = Identifier.find_or_initialize_by(name: name, position: index, enterprise: enterprise)
+              identifier = Identifier.find_or_initialize_by(name:, position: index, enterprise:)

Apply the fix to this code:
@@ -174,7 +174,7 @@ RSpec.describe Inquiry, type: :model do
 
-            identifier = Identifier.find_or_initialize_by(name: name, position: index, enterprise: enterprise)
+            identifier = Identifier.find_or_initialize_by(name:, position: index, enterprise:)

Apply the fix to this code:
@@ -195,7 +195,7 @@ RSpec.describe Inquiry, type: :model do
-              identifier = Identifier.find_or_initialize_by(name: name, position: index, enterprise: enterprise)
+              identifier = Identifier.find_or_initialize_by(name:, position: index, enterprise:)

Apply the fix to this code:
@@ -211,7 +211,7 @@ RSpec.describe Inquiry, type: :model do
-              identifier = Identifier.find_or_initialize_by(name: name, position: index, enterprise: enterprise)
+              identifier = Identifier.find_or_initialize_by(name:, position: index, enterprise:)

Apply the fix to this code:
@@ -232,7 +232,7 @@ RSpec.describe Inquiry, type: :model do
-        let!(:sales_rep) { FactoryBot.create(:sales_rep, :trait1, tenant: tenant, deleted: false, platform_id: contact_trait1.sales_rep_platform_id) }
+        let!(:sales_rep) { FactoryBot.create(:sales_rep, :trait1, tenant:, deleted: false, platform_id: contact_trait1.sales_rep_platform_id) }

Apply the fix to this code:
@@ -240,7 +240,7 @@ RSpec.describe Inquiry, type: :model do
 
-        let!(:sales_rep) { FactoryBot.create(:sales_rep, :trait1, tenant: tenant, deleted: false, platform_id: company_trait1.sales_rep_platform_id) }
+        let!(:sales_rep) { FactoryBot.create(:sales_rep, :trait1, tenant:, deleted: false, platform_id: company_trait1.sales_rep_platform_id) }

Apply the fix to this code:
@@ -256,7 +256,7 @@ RSpec.describe Inquiry, type: :model do
 
-        let(:inquiry) { FactoryBot.build(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1) }
+        let(:inquiry) { FactoryBot.build(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1) }

Apply the fix to this code:
@@ -265,8 +265,8 @@ RSpec.describe Inquiry, type: :model do
 
-        let(:inquiry) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1, unique_id: 1) }
-        let(:inquiry_1) { FactoryBot.build(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1, unique_id: nil) }
+        let(:inquiry) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1, unique_id: 1) }
+        let(:inquiry_1) { FactoryBot.build(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1, unique_id: nil) }

Apply the fix to this code:
@@ -278,10 +278,10 @@ RSpec.describe Inquiry, type: :model do
 
-        let!(:inquiry_1) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1, unique_id: 1) }
-        let!(:inquiry_2) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1, unique_id: 2) }
-        let!(:inquiry_3) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1, unique_id: 3) }
-        let(:inquiry) { FactoryBot.build(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant: tenant, user: user_trait1, unique_id: nil) }
+        let!(:inquiry_1) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1, unique_id: 1) }
+        let!(:inquiry_2) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1, unique_id: 2) }
+        let!(:inquiry_3) { FactoryBot.create(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1, unique_id: 3) }
+        let(:inquiry) { FactoryBot.build(:inquiry, :trait1, company: company_trait1, contact: contact_trait1, tenant:, user: user_trait1, unique_id: nil) }

File: spec/models/invoice_spec.rb
Apply the fix to this code:
@@ -18,7 +18,7 @@ RSpec.describe Invoice, type: :model do
-      tenant: tenant,
+      tenant:,

Apply the fix to this code:
@@ -30,37 +30,37 @@ RSpec.describe Invoice, type: :model do
-      tenant: tenant,
+      tenant:,
 
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }
 
-  let(:user_trait1) { FactoryBot.create(:user, :trait1, token: token_trait1, enterprise: enterprise, tenant: tenant) }
-  let(:user_trait2) { FactoryBot.create(:user, :trait2, token: token_trait2, enterprise: enterprise, tenant: tenant) }
+  let(:user_trait1) { FactoryBot.create(:user, :trait1, token: token_trait1, enterprise:, tenant:) }
+  let(:user_trait2) { FactoryBot.create(:user, :trait2, token: token_trait2, enterprise:, tenant:) }
 
-  let(:location_trait1) { FactoryBot.create(:location, :trait1, identity: identity_trait1, tenant: tenant) }
-  let(:location_trait2) { FactoryBot.create(:location, :trait2, identity: identity_trait2, tenant: tenant) }
+  let(:location_trait1) { FactoryBot.create(:location, :trait1, identity: identity_trait1, tenant:) }
+  let(:location_trait2) { FactoryBot.create(:location, :trait2, identity: identity_trait2, tenant:) }
 
 
-  let(:contact_trait1) { FactoryBot.create(:contact, :trait1, inquiry: inquiry_trait1, location_user_id: location_trait1.id, sales_rep_user_id: user_trait1.id, address: address_trait1, company: company_trait1, lead_type: lead_type_trait1, parent_contact: nil , prospect_status: prospect_status_trait1, tenant: tenant) }
-  let(:company_trait1) { FactoryBot.build(:company, :trait1, tenant: tenant, location_user_id: location_trait1.id) }
+  let(:contact_trait1) { FactoryBot.create(:contact, :trait1, inquiry: inquiry_trait1, location_user_id: location_trait1.id, sales_rep_user_id: user_trait1.id, address: address_trait1, company: company_trait1, lead_type: lead_type_trait1, parent_contact: nil , prospect_status: prospect_status_trait1, tenant:) }
+  let(:company_trait1) { FactoryBot.build(:company, :trait1, tenant:, location_user_id: location_trait1.id) }
-  let(:lead_type_trait1) { FactoryBot.build(:lead_type, :trait1, tenant: tenant, enterprise: enterprise) }
-  let(:prospect_status_trait1) { FactoryBot.build(:prospect_status, :trait1, enterprise: enterprise) }
+  let(:lead_type_trait1) { FactoryBot.build(:lead_type, :trait1, tenant:, enterprise:) }
+  let(:prospect_status_trait1) { FactoryBot.build(:prospect_status, :trait1, enterprise:) }
 
-  let(:contact_trait2) { FactoryBot.create(:contact, :trait2, inquiry: inquiry_trait2, location_user_id: location_trait2.id, sales_rep_user_id: user_trait2.id, address: address_trait2, company: company_trait2, lead_type: lead_type_trait2, parent_contact: nil , prospect_status: prospect_status_trait2, tenant: tenant) }
-  let(:company_trait2) { FactoryBot.build(:company, :trait2, tenant: tenant, location_user_id: location_trait2.id) } ## , location: location_trait2) }
+  let(:contact_trait2) { FactoryBot.create(:contact, :trait2, inquiry: inquiry_trait2, location_user_id: location_trait2.id, sales_rep_user_id: user_trait2.id, address: address_trait2, company: company_trait2, lead_type: lead_type_trait2, parent_contact: nil , prospect_status: prospect_status_trait2, tenant:) }
+  let(:company_trait2) { FactoryBot.build(:company, :trait2, tenant:, location_user_id: location_trait2.id) } ## , location: location_trait2) }
-  let(:lead_type_trait2) { FactoryBot.build(:lead_type, :trait2, tenant: tenant, enterprise: enterprise) }
-  let(:prospect_status_trait2) { FactoryBot.build(:prospect_status, :trait2, enterprise: enterprise) }
+  let(:lead_type_trait2) { FactoryBot.build(:lead_type, :trait2, tenant:, enterprise:) }
+  let(:prospect_status_trait2) { FactoryBot.build(:prospect_status, :trait2, enterprise:) }

Apply the fix to this code:
@@ -69,7 +69,7 @@ RSpec.describe Invoice, type: :model do
-      tenant: tenant,
+      tenant:,

File: spec/models/meeting_spec.rb
Apply the fix to this code:
@@ -189,9 +189,9 @@ RSpec.describe Meeting, type: :model do
-        meeting = Meeting.new(start_date: start_date, end_date: end_date)
+        meeting = Meeting.new(start_date:, end_date:)
-        expect(meeting.end_date).to eq(start_date)
+        expect(meeting.end_date.change(usec: 0)).to eq(start_date.change(nsec: 0))

File: spec/models/queries/company_by_rank_query_spec.rb
Apply the fix to this code:
@@ -9,7 +9,7 @@ require "rails_helper"
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise, time_zone: "Sydney", platform_data: {use_printsmith_deprecated_api: true}) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:, time_zone: "Sydney", platform_data: {use_printsmith_deprecated_api: true}) }

File: spec/models/sales_summary_spec.rb
Apply the fix to this code:
@@ -86,20 +86,20 @@ RSpec.describe SalesSummary, type: :model do
 
-      let(:sales_summary) { create(:sales_summary, nontaxsales: 100, taxablesales: 200, totalsales: 400, tenant: tenant) }
+      let(:sales_summary) { create(:sales_summary, nontaxsales: 100, taxablesales: 200, totalsales: 400, tenant:) }
 
 
-      let(:sales_summary) { create(:sales_summary, nontaxsales: 100, taxablesales: 200, totalsales: 400, tenant: tenant) }
+      let(:sales_summary) { create(:sales_summary, nontaxsales: 100, taxablesales: 200, totalsales: 400, tenant:) }
 
 
-      let(:sales_summary) { create(:sales_summary, nontaxsales: nil, taxablesales: nil, totalsales: nil, tenant: tenant) }
+      let(:sales_summary) { create(:sales_summary, nontaxsales: nil, taxablesales: nil, totalsales: nil, tenant:) }

File: spec/models/shipment_spec.rb
Apply the fix to this code:
@@ -385,10 +385,10 @@ RSpec.describe Shipment, type: :model do
 
-    subject(:shipment) { build(:shipment, tenant: tenant, company: company, description: "description") }
+    subject(:shipment) { build(:shipment, tenant:, company:, description: "description") }
 
-    let(:tenant) { build(:tenant, name: "My Tenant", number: "12345", enterprise: enterprise) }
+    let(:tenant) { build(:tenant, name: "My Tenant", number: "12345", enterprise:) }

Apply the fix to this code:
@@ -406,7 +406,7 @@ RSpec.describe Shipment, type: :model do
 
-    let(:shipment) { build(:shipment, courier_tracking: courier_tracking) }
+    let(:shipment) { build(:shipment, courier_tracking:) }

Apply the fix to this code:
@@ -507,8 +507,8 @@ RSpec.describe Shipment, type: :model do
 
-    let(:tenant) { build(:tenant1, enterprise: enterprise) }
-    let(:shipment) { create(:shipment, tenant: tenant, mbe_service_id: mbe_service_id) }
+    let(:tenant) { build(:tenant1, enterprise:) }
+    let(:shipment) { create(:shipment, tenant:, mbe_service_id:) }

Apply the fix to this code:
@@ -541,8 +541,8 @@ RSpec.describe Shipment, type: :model do
 
-    let(:tenant) { build(:tenant1, enterprise: enterprise) }
-    let(:shipment) { create(:shipment, tenant: tenant, grand_total: grand_total, total_cost: total_cost) }
+    let(:tenant) { build(:tenant1, enterprise:) }
+    let(:shipment) { create(:shipment, tenant:, grand_total:, total_cost:) }

Apply the fix to this code:
@@ -574,9 +574,9 @@ RSpec.describe Shipment, type: :model do
-    let(:tenant) { build(:tenant1, enterprise: enterprise) }
-    let(:shipment) { build(:shipment1, tenant: tenant, source_invoice_platform_id: source_invoice_platform_id) }
-    let!(:invoice) { create(:invoice1, tenant: tenant, platform_id: source_invoice_platform_id) }
+    let(:tenant) { build(:tenant1, enterprise:) }
+    let(:shipment) { build(:shipment1, tenant:, source_invoice_platform_id:) }
+    let!(:invoice) { create(:invoice1, tenant:, platform_id: source_invoice_platform_id) }

Apply the fix to this code:
@@ -596,9 +596,9 @@ RSpec.describe Shipment, type: :model do
-    let(:tenant) { build(:tenant1, enterprise: enterprise) }
-    let(:shipment) { build(:shipment1, tenant: tenant, platform_id: platform_id) }
-    let!(:invoice) { create(:invoice1, tenant: tenant, platform_data: { "source_shipment_platform_id" => platform_id }) }
+    let(:tenant) { build(:tenant1, enterprise:) }
+    let(:shipment) { build(:shipment1, tenant:, platform_id:) }
+    let!(:invoice) { create(:invoice1, tenant:, platform_data: { "source_shipment_platform_id" => platform_id }) }

Apply the fix to this code:
@@ -618,10 +618,10 @@ RSpec.describe Shipment, type: :model do
-    let(:tenant) { build(:tenant1, enterprise: enterprise) }
-    let(:shipment) { build(:shipment1, tenant: tenant, associations_complete: associations_complete, source: source) }
+    let(:tenant) { build(:tenant1, enterprise:) }
+    let(:shipment) { build(:shipment1, tenant:, associations_complete:, source:) }
 
-    let(:tag_category) { create(:tag_category, :trait1, tenant: tenant, enterprise: enterprise, system_match: source) }
+    let(:tag_category) { create(:tag_category, :trait1, tenant:, enterprise:, system_match: source) }

Apply the fix to this code:
@@ -646,11 +646,11 @@ RSpec.describe Shipment, type: :model do
 
-        allow(TagCategory).to receive(:where).with(hash_including(enterprise_id: enterprise_id, system_match: "Some Source")).and_return([tag_category])
+        allow(TagCategory).to receive(:where).with(hash_including(enterprise_id:, system_match: "Some Source")).and_return([tag_category])
 
-        expect(tag_category).to receive(:tag_context).with(shipment, manual: false)
+        expect(tag_category).to receive(:tag_context).with(shipment, hash_including(manual: false))

Apply the fix to this code:
@@ -660,7 +660,7 @@ RSpec.describe Shipment, type: :model do
 
-        allow(TagCategory).to receive(:where).with(hash_including(enterprise_id: enterprise_id, system_match: "Some Source")).and_return([])
+        allow(TagCategory).to receive(:where).with(hash_including(enterprise_id:, system_match: "Some Source")).and_return([])

File: spec/models/statistic_spec.rb
Apply the fix to this code:
@@ -79,19 +79,19 @@ RSpec.describe Statistic, type: :model do
 
-      let!(:statistic1) { create(:statistic1, tenant: tenant, statistic_for: statistic_for, date: target_datetime, total: 100, average: 50, count: 200) }
+      let!(:statistic1) { create(:statistic1, tenant:, statistic_for:, date: target_datetime, total: 100, average: 50, count: 200) }
 
 
-        let!(:statistic2) { create(:statistic2, tenant: tenant, statistic_for: statistic_for, date: target_datetime, total: 80, average: 40, count: 200) }
+        let!(:statistic2) { create(:statistic2, tenant:, statistic_for:, date: target_datetime, total: 80, average: 40, count: 200) }
 
 
-          let!(:statistic3) { create(:statistic1, statistic_for: statistic_for, date: target_datetime, total: 100, average: 50, count: 200) }
+          let!(:statistic3) { create(:statistic1, statistic_for:, date: target_datetime, total: 100, average: 50, count: 200) }

File: spec/models/task_spec.rb
Apply the fix to this code:
@@ -11,9 +11,9 @@ RSpec.describe Task, type: :model do
 
-  let(:tenant)        { FactoryBot.create(:tenant1, enterprise: enterprise, time_zone: "Sydney") }
-  let(:open_task)     { FactoryBot.create(:task, :trait1, task_type: task_type_trait1, taskable: company_trait1, assigned_user_id: new_user.id, tenant: tenant, start_date: Time.zone.now + 1.hour, end_date: Time.zone.now + 2.hour) }
-  let(:new_user)      { FactoryBot.create(:user, :trait1, tenant: tenant, enterprise: enterprise, username: "unique@user.name", external_id: "uniquename", reset_password_token: "ajdskldjsldas", unlock_token: "23u12189") }
+  let(:tenant)        { FactoryBot.create(:tenant1, enterprise:, time_zone: "Sydney") }
+  let(:open_task)     { FactoryBot.create(:task, :trait1, task_type: task_type_trait1, taskable: company_trait1, assigned_user_id: new_user.id, tenant:, start_date: Time.zone.now + 1.hour, end_date: Time.zone.now + 2.hour) }
+  let(:new_user)      { FactoryBot.create(:user, :trait1, tenant:, enterprise:, username: "unique@user.name", external_id: "uniquename", reset_password_token: "ajdskldjsldas", unlock_token: "23u12189") }

Apply the fix to this code:
@@ -210,13 +210,13 @@ RSpec.describe Task, type: :model do
 
-      let(:order) { FactoryBot.create(:order, tenant: tenant) }
+      let(:order) { FactoryBot.create(:order, tenant:) }
 
-          activity1 = FactoryBot.create(:activity, estimate: estimate, task: task)
-          activity2 = FactoryBot.create(:activity, estimate: estimate)
+          activity1 = FactoryBot.create(:activity, estimate:, task:)
+          activity2 = FactoryBot.create(:activity, estimate:)

Apply the fix to this code:
@@ -230,7 +230,7 @@ RSpec.describe Task, type: :model do
-          activity1 = FactoryBot.create(:activity, invoice: order, task: task)
+          activity1 = FactoryBot.create(:activity, invoice: order, task:)

Apply the fix to this code:
@@ -245,8 +245,8 @@ RSpec.describe Task, type: :model do
-          activity1 = FactoryBot.create(:activity, task: task)
-          activity2 = FactoryBot.create(:activity, task: task)
+          activity1 = FactoryBot.create(:activity, task:)
+          activity2 = FactoryBot.create(:activity, task:)

File: spec/models/template_spec.rb
Apply the fix to this code:
@@ -2,9 +2,9 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let(:user) { create(:user, :trait1, tenant: tenant, enterprise: enterprise) }
-  let(:template) { create(:template, enterprise: enterprise, tenant: tenant) }
+  let(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let(:user) { create(:user, :trait1, tenant:, enterprise:) }
+  let(:template) { create(:template, enterprise:, tenant:) }

File: spec/models/tenant_spec.rb
Apply the fix to this code:
@@ -11,8 +11,8 @@ RSpec.describe Tenant, type: :model do
-  let(:tenant_trait1) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-  let(:tenant_trait2) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
+  let(:tenant_trait1) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+  let(:tenant_trait2) { FactoryBot.create(:tenant, :trait2, enterprise:) }

Apply the fix to this code:
@@ -125,8 +125,8 @@ RSpec.describe Tenant, type: :model do
 
-    let!(:enterprise) { create(:enterprise, :trait1, platform_type: platform_type) }
-    let!(:tenant) { create(:tenant, :trait1, enterprise: enterprise, training: false, demo: false) }
+    let!(:enterprise) { create(:enterprise, :trait1, platform_type:) }
+    let!(:tenant) { create(:tenant, :trait1, enterprise:, training: false, demo: false) }

Apply the fix to this code:
@@ -152,7 +152,7 @@ RSpec.describe Tenant, type: :model do
 
-      let!(:tenant_2) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise, etl_flag: false, training: false, demo: false, allow_access: true) }
+      let!(:tenant_2) { FactoryBot.create(:tenant, :trait2, enterprise:, etl_flag: false, training: false, demo: false, allow_access: true) }

Apply the fix to this code:
@@ -330,8 +330,8 @@ RSpec.describe Tenant, type: :model do
 
-    let(:enterprise) { create(:enterprise, :trait1, platform_type: platform_type) }
-    let(:tenant) { create(:tenant, :trait1, enterprise: enterprise) }
+    let(:enterprise) { create(:enterprise, :trait1, platform_type:) }
+    let(:tenant) { create(:tenant, :trait1, enterprise:) }

File: spec/models/user_spec.rb
Apply the fix to this code:
@@ -8,9 +8,9 @@ RSpec.describe User, type: :model do
 
-  let(:enterprise) { FactoryBot.build(:enterprise, :trait1, brand: brand) }
-  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-  let(:user) { FactoryBot.create(:user, :trait1, token: token_trait1, enterprise: enterprise, tenant: tenant) }
+  let(:enterprise) { FactoryBot.build(:enterprise, :trait1, brand:) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+  let(:user) { FactoryBot.create(:user, :trait1, token: token_trait1, enterprise:, tenant:) }

File: spec/models/utils/calculate_lost_company_ids_spec.rb
Apply the fix to this code:
@@ -2,10 +2,10 @@ require "rails_helper"
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise, time_zone: "Sydney") }
+  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:, time_zone: "Sydney") }
-  let(:company) { create(:company, tenant: tenant) }
-  let(:invoice) { create(:invoice, company: company, tenant: tenant, pickup_date: date.beginning_of_month - 1.year) }
+  let(:company) { create(:company, tenant:) }
+  let(:invoice) { create(:invoice, company:, tenant:, pickup_date: date.beginning_of_month - 1.year) }

File: spec/models/utils/calculate_new_company_ids_spec.rb
Apply the fix to this code:
@@ -2,10 +2,10 @@ require "rails_helper"
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise, time_zone: "Sydney") }
+  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:, time_zone: "Sydney") }
-  let(:company) { create(:company, tenant: tenant) }
-  let(:invoice) { create(:invoice, company: company, tenant: tenant, pickup_date: date.beginning_of_month) }
+  let(:company) { create(:company, tenant:) }
+  let(:invoice) { create(:invoice, company:, tenant:, pickup_date: date.beginning_of_month) }

File: spec/models/utils/campaign_monitor_spec.rb
Apply the fix to this code:
@@ -4,7 +4,7 @@ require "rails_helper"
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise, campaign_monitor_client_id: "1") }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:, campaign_monitor_client_id: "1") }

File: spec/models/utils/health_spec.rb
Apply the fix to this code:
@@ -7,7 +7,7 @@ end
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise, time_zone: "Sydney") }
+  let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:, time_zone: "Sydney") }

Apply the fix to this code:
@@ -52,7 +52,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:company) { FactoryBot.create(:company, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:company) { FactoryBot.create(:company, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -96,7 +96,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:contact) { FactoryBot.create(:contact, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:contact) { FactoryBot.create(:contact, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -140,7 +140,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:adjustment) { FactoryBot.create(:adjustment, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:adjustment) { FactoryBot.create(:adjustment, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -184,7 +184,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:sales_rep) { FactoryBot.create(:sales_rep, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:sales_rep) { FactoryBot.create(:sales_rep, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -228,7 +228,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:address) { FactoryBot.create(:address, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:address) { FactoryBot.create(:address, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -272,7 +272,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:sales_summary) { FactoryBot.create(:sales_summary, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:sales_summary) { FactoryBot.create(:sales_summary, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -316,7 +316,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:sales_summary_pickup) { FactoryBot.create(:sales_summary_pickup, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:sales_summary_pickup) { FactoryBot.create(:sales_summary_pickup, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -360,7 +360,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:production_location) { FactoryBot.create(:production_location, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:production_location) { FactoryBot.create(:production_location, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -404,7 +404,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:account_history_data) { FactoryBot.create(:account_history_data, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:account_history_data) { FactoryBot.create(:account_history_data, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -448,7 +448,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:sales_base_tax) { FactoryBot.create(:sales_base_tax, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:sales_base_tax) { FactoryBot.create(:sales_base_tax, :trait1, tenant:, platform_id: "1234") }

Apply the fix to this code:
@@ -492,7 +492,7 @@ RSpec.describe Utils::Health, type: :services do
 
-          let!(:estimate) { FactoryBot.create(:estimate, :trait1, tenant: tenant, platform_id: "1234") }
+          let!(:estimate) { FactoryBot.create(:estimate, :trait1, tenant:, platform_id: "1234") }

File: spec/presenters/automation/enterprise_invoice_send_settings_presenter_spec.rb
Apply the fix to this code:
@@ -1,11 +1,11 @@
 
-  let(:enterprise) { create(:enterprise, :trait1, automation_options: automation_options) }
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, etl_flag: true, demo: false, training: false) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
+  let(:enterprise) { create(:enterprise, :trait1, automation_options:) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:, etl_flag: true, demo: false, training: false) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
-  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template: email_template) }
+  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template:) }

File: spec/presenters/automation/enterprise_settings_presenter_spec.rb
Apply the fix to this code:
@@ -1,11 +1,11 @@
 
-  let(:enterprise) { create(:enterprise, :trait1, automation_options: automation_options) }
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, etl_flag: true, demo: false, training: false) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
+  let(:enterprise) { create(:enterprise, :trait1, automation_options:) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:, etl_flag: true, demo: false, training: false) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
-  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template: email_template) }
+  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template:) }

File: spec/presenters/automation/enterprise_statement_send_settings_presenter_spec.rb
Apply the fix to this code:
@@ -1,11 +1,11 @@
 
-  let(:enterprise) { create(:enterprise, :trait1, automation_options: automation_options) }
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, etl_flag: true, demo: false, training: false) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
+  let(:enterprise) { create(:enterprise, :trait1, automation_options:) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:, etl_flag: true, demo: false, training: false) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
-  let(:email_template_category) { create(:email_template_category, :trait1, category: 7, email_template: email_template) }
+  let(:email_template_category) { create(:email_template_category, :trait1, category: 7, email_template:) }

File: spec/presenters/automation/tenant_invoice_send_settings_presenter_spec.rb
Apply the fix to this code:
@@ -1,11 +1,11 @@
 
-  let(:enterprise) { create(:enterprise, :trait1, automation_options: automation_options) }
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, etl_flag: true, demo: false, training: false, automation_options: automation_options) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
+  let(:enterprise) { create(:enterprise, :trait1, automation_options:) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:, etl_flag: true, demo: false, training: false, automation_options:) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
-  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template: email_template) }
+  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template:) }

File: spec/presenters/automation/tenant_settings_presenter_spec.rb
Apply the fix to this code:
@@ -1,11 +1,11 @@
 
-  let(:enterprise) { create(:enterprise, :trait1, automation_options: automation_options) }
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, etl_flag: true, demo: false, training: false, automation_options: automation_options) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
+  let(:enterprise) { create(:enterprise, :trait1, automation_options:) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:, etl_flag: true, demo: false, training: false, automation_options:) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
-  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template: email_template) }
+  let(:email_template_category) { create(:email_template_category, :trait1, category: 3, email_template:) }

File: spec/presenters/automation/tenant_statement_send_settings_presenter_spec.rb
Apply the fix to this code:
@@ -1,12 +1,12 @@
 
-  let(:enterprise) { create(:enterprise, :trait1, automation_options: automation_options) }
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, etl_flag: true, demo: false, training: false, automation_options: automation_options) }
+  let(:enterprise) { create(:enterprise, :trait1, automation_options:) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:, etl_flag: true, demo: false, training: false, automation_options:) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
-  let(:email_template_category) { create(:email_template_category, :trait1, category: 7, email_template: email_template) }
+  let(:email_template_category) { create(:email_template_category, :trait1, category: 7, email_template:) }

File: spec/presenters/company_analysis_os_csv_presenter_spec.rb
Apply the fix to this code:
@@ -5,7 +5,7 @@ require "rails_helper"
 
-  let(:enterprise) { create(:enterprise, :trait1, platform_type: "printsmith", platform_data: platform_data) }
+  let(:enterprise) { create(:enterprise, :trait1, platform_type: "printsmith", platform_data:) }

File: spec/presenters/company_analysis_os_presenter_spec.rb
Apply the fix to this code:
@@ -5,7 +5,7 @@ require "rails_helper"
 
-  let(:enterprise) { create(:enterprise, :trait1, platform_type: "printsmith", platform_data: platform_data) }
+  let(:enterprise) { create(:enterprise, :trait1, platform_type: "printsmith", platform_data:) }

File: spec/presenters/company_index_presenter_spec.rb
Apply the fix to this code:
@@ -46,13 +46,12 @@ RSpec.describe CompanyIndexPresenter, type: :presenter do
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise) }
-  let(:request) { double("Request", query_parameters: {}) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:) }
 
-      presenter = CompanyIndexPresenter.new(query, tenant, request, params)
+      presenter = CompanyIndexPresenter.new(query, tenant, params)

File: spec/presenters/company_media_consents_presenter_spec.rb
Apply the fix to this code:
@@ -3,10 +3,10 @@ require "rails_helper"
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-  let(:user) { FactoryBot.create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
-  let(:company) { FactoryBot.create(:company, :trait1, tenant: tenant) }
-  let(:group) { FactoryBot.create(:group, :trait1, enterprise: enterprise, pma: true) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+  let(:user) { FactoryBot.create(:user, :trait1, enterprise:, tenant:) }
+  let(:company) { FactoryBot.create(:company, :trait1, tenant:) }
+  let(:group) { FactoryBot.create(:group, :trait1, enterprise:, pma: true) }

File: spec/presenters/company_show_presenter_spec.rb
Apply the fix to this code:
@@ -3,8 +3,8 @@ require "rails_helper"
 
-  let(:user) { FactoryBot.create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
-  let(:company) { FactoryBot.create(:company, :trait1, tenant: tenant) }
+  let(:user) { FactoryBot.create(:user, :trait1, enterprise:, tenant:) }
+  let(:company) { FactoryBot.create(:company, :trait1, tenant:) }

Apply the fix to this code:
@@ -20,7 +20,7 @@ RSpec.describe CompanyShowPresenter, type: :presenter do
-    let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
+    let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }

Apply the fix to this code:
@@ -45,14 +45,14 @@ RSpec.describe CompanyShowPresenter, type: :presenter do
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }

Apply the fix to this code:
@@ -65,7 +65,7 @@ RSpec.describe CompanyShowPresenter, type: :presenter do
 
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }

Apply the fix to this code:
@@ -73,7 +73,7 @@ RSpec.describe CompanyShowPresenter, type: :presenter do
 
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }

File: spec/presenters/contact_index_presenter_spec.rb
Apply the fix to this code:
@@ -8,7 +8,7 @@ RSpec.describe ContactIndexPresenter do
-    let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
+    let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }

File: spec/presenters/custom_form_presenter_spec.rb
Apply the fix to this code:
@@ -2,13 +2,13 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let(:signin_user) { create(:user, :trait3, :enterprise_user, enterprise: enterprise, tenant: tenant) }
-  let(:custom_form) { create(:custom_form, enterprise: enterprise, email_template: email_template) }
-  let(:email_template) { create(:email_template, :trait1, tenant: tenant, shell: true) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:contact) { create(:contact, :trait1, tenant: tenant, company: company) }
-  let(:custom_form_response) { create(:custom_form_response, custom_form: custom_form, contact: contact) }
+  let(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let(:signin_user) { create(:user, :trait3, :enterprise_user, enterprise:, tenant:) }
+  let(:custom_form) { create(:custom_form, enterprise:, email_template:) }
+  let(:email_template) { create(:email_template, :trait1, tenant:, shell: true) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:contact) { create(:contact, :trait1, tenant:, company:) }
+  let(:custom_form_response) { create(:custom_form_response, custom_form:, contact:) }

File: spec/presenters/custom_form_response_presenter_spec.rb
Apply the fix to this code:
@@ -2,9 +2,9 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:contact) { create(:contact, :trait1, tenant: tenant, company: company) }
+  let(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:contact) { create(:contact, :trait1, tenant:, company:) }

File: spec/presenters/customers_metrics_presenter_spec.rb
Apply the fix to this code:
@@ -15,11 +15,11 @@ RSpec.describe CustomersSalesMetricsPresenter do
 
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-      let(:tenant2) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-      let(:group) { FactoryBot.create(:group, :trait1, enterprise: enterprise, pma: true) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+      let(:tenant2) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+      let(:group) { FactoryBot.create(:group, :trait1, enterprise:, pma: true) }
-      let(:current_user) { FactoryBot.create(:user, :trait1, enterprise: enterprise, tenant: tenant, role: "Enterprise User") }
+      let(:current_user) { FactoryBot.create(:user, :trait1, enterprise:, tenant:, role: "Enterprise User") }

Apply the fix to this code:
@@ -30,11 +30,11 @@ RSpec.describe CustomersSalesMetricsPresenter do
 
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-      let(:tenant2) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-      let(:group) { FactoryBot.create(:group, :trait1, enterprise: enterprise, pma: true) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+      let(:tenant2) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+      let(:group) { FactoryBot.create(:group, :trait1, enterprise:, pma: true) }
-      let(:current_user) { FactoryBot.create(:user, :trait1, enterprise: enterprise, tenant: tenant, role: "User", view_aggregated_data: false) }
+      let(:current_user) { FactoryBot.create(:user, :trait1, enterprise:, tenant:, role: "User", view_aggregated_data: false) }

Apply the fix to this code:
@@ -45,11 +45,11 @@ RSpec.describe CustomersSalesMetricsPresenter do
 
-      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-      let(:tenant2) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-      let(:group) { FactoryBot.create(:group, :trait1, enterprise: enterprise, pma: true) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+      let(:tenant2) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+      let(:group) { FactoryBot.create(:group, :trait1, enterprise:, pma: true) }
-      let(:current_user) { FactoryBot.create(:user, :trait1, enterprise: enterprise, tenant: tenant, role: "User", view_aggregated_data: true, group_id: group.id) }
+      let(:current_user) { FactoryBot.create(:user, :trait1, enterprise:, tenant:, role: "User", view_aggregated_data: true, group_id: group.id) }

File: spec/presenters/enterprises/user_activity_report_presenter_spec.rb
Apply the fix to this code:
@@ -2,10 +2,10 @@ require "rails_helper"
 
-  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise: enterprise) }
-  let(:group) { FactoryBot.create(:group, :trait1, enterprise: enterprise, default: true) }
-  let(:meeting) { FactoryBot.create(:meeting, :trait1, created_at: Time.now, tenant: tenant) }
-  let(:phone_call) { FactoryBot.create(:phone_call, :trait1, created_at: Time.now, tenant: tenant) }
+  let(:tenant) { FactoryBot.create(:tenant, :trait1, enterprise:) }
+  let(:group) { FactoryBot.create(:group, :trait1, enterprise:, default: true) }
+  let(:meeting) { FactoryBot.create(:meeting, :trait1, created_at: Time.now, tenant:) }
+  let(:phone_call) { FactoryBot.create(:phone_call, :trait1, created_at: Time.now, tenant:) }

File: spec/presenters/filtered_detailed_report_csv_presenter_spec.rb
Apply the fix to this code:
@@ -9,8 +9,8 @@ RSpec.describe LeadsDetailedReportCsvPresenter do
-      let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
-      let(:company) { FactoryBot.create(:company, :trait1, tenant: tenant) }
+      let(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }
+      let(:company) { FactoryBot.create(:company, :trait1, tenant:) }

File: spec/presenters/inquiries_by_tenant_csv_presenter_spec.rb
Apply the fix to this code:
@@ -33,7 +33,7 @@ RSpec.describe InquiriesByTenantCsvPresenter do
-      let!(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise: enterprise) }
+      let!(:tenant) { FactoryBot.create(:tenant, :trait2, enterprise:) }

File: spec/presenters/net_promoter_companies_presenter_spec.rb
Apply the fix to this code:
@@ -2,13 +2,13 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait2, enterprise: enterprise) }
-  let(:custom_form) { create(:custom_form, enterprise: enterprise) }
-  let(:custom_form_element) { create(:custom_form_element, custom_form: custom_form, element_type: :scale) }
-  let(:promoter_label) { create(:custom_form_label, :promoter, custom_form: custom_form, custom_form_element: custom_form_element, value: "9-10") }
-  let(:passive_label) { create(:custom_form_label, :passive, custom_form: custom_form, custom_form_element: custom_form_element, value: "6-8") }
-  let(:detractor_label) { create(:custom_form_label, :detractor, custom_form: custom_form, custom_form_element: custom_form_element, value: "0-5") }
-  let(:sales_rep) { create(:sales_rep, :trait1, tenant: tenant, deleted: false) }
+  let(:tenant) { create(:tenant, :trait2, enterprise:) }
+  let(:custom_form) { create(:custom_form, enterprise:) }
+  let(:custom_form_element) { create(:custom_form_element, custom_form:, element_type: :scale) }
+  let(:promoter_label) { create(:custom_form_label, :promoter, custom_form:, custom_form_element:, value: "9-10") }
+  let(:passive_label) { create(:custom_form_label, :passive, custom_form:, custom_form_element:, value: "6-8") }
+  let(:detractor_label) { create(:custom_form_label, :detractor, custom_form:, custom_form_element:, value: "0-5") }
+  let(:sales_rep) { create(:sales_rep, :trait1, tenant:, deleted: false) }

Apply the fix to this code:
@@ -16,9 +16,9 @@ RSpec.describe NetPromoterCompaniesPresenter do
-      tenant: tenant,
-      start_date: start_date,
-      end_date: end_date,
+      tenant:,
+      start_date:,
+      end_date:,

File: spec/presenters/portal/dashboard_presenter_spec.rb
Apply the fix to this code:
@@ -9,8 +9,8 @@ RSpec.describe PortalDashboardPresenter do
-      enterprise: enterprise,
-      tenant: tenant,
+      enterprise:,
+      tenant:,

File: spec/presenters/reports/mbe_today_presenter_spec.rb
Apply the fix to this code:
@@ -4,11 +4,11 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:estimate) { create(:estimate, :trait1, tenant: tenant, company: company, off_pending_date: Time.zone.now - 1.week, status: "Won", on_pending_list: false) }
-  let(:shipment) { create(:shipment, :trait1, tenant: tenant, company: company, status: "CREATED", shipment_date: Time.zone.now.in_time_zone(tenant.time_zone).beginning_of_month + 1.hour) }
-  let(:sale) { create(:sale, :trait1, tenant: tenant, company: company, external_id: "An_external_ID", pickup_date: Time.zone.now) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:estimate) { create(:estimate, :trait1, tenant:, company:, off_pending_date: Time.zone.now - 1.week, status: "Won", on_pending_list: false) }
+  let(:shipment) { create(:shipment, :trait1, tenant:, company:, status: "CREATED", shipment_date: Time.zone.now.in_time_zone(tenant.time_zone).beginning_of_month + 1.hour) }
+  let(:sale) { create(:sale, :trait1, tenant:, company:, external_id: "An_external_ID", pickup_date: Time.zone.now) }

File: spec/presenters/reports/sales_presenter_spec.rb
Apply the fix to this code:
@@ -4,18 +4,18 @@ require "rails_helper"
 
-  let(:user) { create(:user, :trait1, tenant: tenant, enterprise: enterprise) }
-  let(:location) { FactoryBot.create(:location, :trait1, tenant: tenant) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:estimate) { create(:estimate, :trait1, tenant: tenant, company: company, sales_rep_user_id: user.id, ordered_date: Time.zone.now - 1.day, status: "Won") }
-  let(:order) { create(:order, :trait1, tenant: tenant, company: company, ordered_date: Time.zone.now) }
-  let(:sale) { create(:sale, :trait1, tenant: tenant, company: company, external_id: "An_external_ID", pickup_date: Time.zone.now) }
+  let(:user) { create(:user, :trait1, tenant:, enterprise:) }
+  let(:location) { FactoryBot.create(:location, :trait1, tenant:) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:estimate) { create(:estimate, :trait1, tenant:, company:, sales_rep_user_id: user.id, ordered_date: Time.zone.now - 1.day, status: "Won") }
+  let(:order) { create(:order, :trait1, tenant:, company:, ordered_date: Time.zone.now) }
+  let(:sale) { create(:sale, :trait1, tenant:, company:, external_id: "An_external_ID", pickup_date: Time.zone.now) }
-  let(:cash_sales_statistic) { create(:statistic, :trait1, accounting_year: 0, accounting_month: 0, statistic_for: "PS-DAY", date: start_date, user_id: user.id, tenant: tenant, cash_sales: 1000) }
-  let(:cash_sales_ly_statistic) { create(:statistic, :trait1, statistic_for: "PS-DAY", date: start_date - 1.year, user_id: user.id, tenant: tenant, cash_sales: 2000) }
-  let(:base_sales_rep_statistic) { create(:statistic, :trait1, statistic_for: "sales-rep-day", date: start_date, user_id: user.id, tenant: tenant, cash_sales: 2000) }
-  let(:base_location_statistic) { create(:statistic, :trait1, statistic_for: "location-day", date: start_date, location_id: location.id, tenant: tenant, cash_sales: 2000) }
+  let(:cash_sales_statistic) { create(:statistic, :trait1, accounting_year: 0, accounting_month: 0, statistic_for: "PS-DAY", date: start_date, user_id: user.id, tenant:, cash_sales: 1000) }
+  let(:cash_sales_ly_statistic) { create(:statistic, :trait1, statistic_for: "PS-DAY", date: start_date - 1.year, user_id: user.id, tenant:, cash_sales: 2000) }
+  let(:base_sales_rep_statistic) { create(:statistic, :trait1, statistic_for: "sales-rep-day", date: start_date, user_id: user.id, tenant:, cash_sales: 2000) }
+  let(:base_location_statistic) { create(:statistic, :trait1, statistic_for: "location-day", date: start_date, location_id: location.id, tenant:, cash_sales: 2000) }

Apply the fix to this code:
@@ -39,7 +39,7 @@ RSpec.describe Reports::SalesPresenter do
 
-      let(:tenant) { create(:tenant, :trait1, enterprise: enterprise, sales_rep_for_locations: false, time_zone: "UTC") }
+      let(:tenant) { create(:tenant, :trait1, enterprise:, sales_rep_for_locations: false, time_zone: "UTC") }

File: spec/presenters/reports/today_presenter_spec.rb
Apply the fix to this code:
@@ -4,12 +4,12 @@ require "rails_helper"
 
-  let(:tenant) { create(:tenant, :trait1, enterprise: enterprise) }
-  let(:company) { create(:company, :trait1, tenant: tenant) }
-  let(:user) { create(:user, :trait1, enterprise: enterprise, tenant: tenant) }
-  let(:estimate) { create(:estimate, :trait1, tenant: tenant, company: company, off_pending_date: Time.zone.now - 1.week, status: "Won", on_pending_list: false) }
-  let(:order) { create(:order, :trait1, tenant: tenant, company: company, ordered_date: Time.zone.now) }
-  let(:sale) { create(:sale, :trait1, tenant: tenant, company: company, external_id: "An_external_ID", pickup_date: Time.zone.now) }
+  let(:tenant) { create(:tenant, :trait1, enterprise:) }
+  let(:company) { create(:company, :trait1, tenant:) }
+  let(:user) { create(:user, :trait1, enterprise:, tenant:) }
+  let(:estimate) { create(:estimate, :trait1, tenant:, company:, off_pending_date: Time.zone.now - 1.week, status: "Won", on_pending_list: false) }
+  let(:order) { create(:order, :trait1, tenant:, company:, ordered_date: Time.zone.now) }
+  let(:sale) { create(:sale, :trait1, tenant:, company:, external_id: "An_external_ID", pickup_date: Time.zone.now) }


Once you've completed the changes, ensure all modified code follows the style guide and is tested.
