In this process, we are reversing Ruby's shorthand hash syntax back to its explicit form.
Below are the specific diffs for each file. Apply the necessary fixes as outlined.
In this process, we are reversing Rubys shorthand hash syntax (e.g., `activity:`) back to its explicit form (e.g., `activity: activity`).

For example:
Before (shorthand): `activity:`
After (explicit): `activity: activity`

Similarly, if there are multiple key-value pairs:

Before (shorthand): `first_name:, last_name:, date_of_birth:`
After (explicit): `first_name: first_name, last_name: last_name, date_of_birth: date_of_birth`

Below are the specific diffs for each file. Apply the necessary fixes as outlined.


File: app/controllers/portal/sales_controller.rb
Apply the fix to this code:
@@ -8,7 +8,7 @@ class Portal::SalesController < ApplicationController
-      current_user: current_user,
+      current_user:,

Apply the fix to this code:
@@ -77,7 +77,7 @@ class Portal::SalesController < ApplicationController
 
-      redirect_to request.referer, flash: { errors: errors }
+      redirect_to request.referer, flash: { errors: }

Apply the fix to this code:
@@ -102,17 +102,17 @@ class Portal::SalesController < ApplicationController
-          tenant: tenant,
-          uuid: uuid,
+          tenant:,
+          uuid:,
-            closing_date: closing_date,
+            closing_date:,
-            payment_date: payment_date
+            payment_date:

Apply the fix to this code:
@@ -124,7 +124,7 @@ class Portal::SalesController < ApplicationController
 
-      format.json { render json: { download_url: @download_url, success: @success, error: @error_message, uuid: uuid } }
+      format.json { render json: { download_url: @download_url, success: @success, error: @error_message, uuid: } }

File: app/controllers/portal/tasks_controller.rb
Apply the fix to this code:
@@ -59,7 +59,7 @@ class Portal::TasksController < ApplicationController
 
-      render :new, locals: { params: params.merge!(request_type: request_type) }
+      render :new, locals: { params: params.merge!(request_type:) }

File: app/controllers/portal/users_controller.rb
Apply the fix to this code:
@@ -386,7 +386,7 @@ class Portal::UsersController < ApplicationController
 
-    render json: { contacts: contacts, companies: companies }
+    render json: { contacts:, companies: }

File: app/controllers/prospect_status_item_contacts_controller.rb
Apply the fix to this code:
@@ -98,7 +98,7 @@ class ProspectStatusItemContactsController < ApplicationController
-                task: task,
+                task:,

Apply the fix to this code:
@@ -163,7 +163,7 @@ class ProspectStatusItemContactsController < ApplicationController
-          task = Task.where(taskable_type: taskable_type, prospect_status_item_contact_id: @prospect_status_item_contact.id).first
+          task = Task.where(taskable_type:, prospect_status_item_contact_id: @prospect_status_item_contact.id).first

File: app/controllers/prospect_status_items_controller.rb
Apply the fix to this code:
@@ -98,7 +98,7 @@ class ProspectStatusItemsController < ApplicationController
 
-      matching_PSIC = ProspectStatusItemContact.where(contact_id: contact_id, prospect_status_item_id: item.id).first
+      matching_PSIC = ProspectStatusItemContact.where(contact_id:, prospect_status_item_id: item.id).first

File: app/controllers/prospects_controller.rb
Apply the fix to this code:
@@ -111,7 +111,7 @@ class ProspectsController < ApplicationController
-      b2b: b2b,
+      b2b:,

Apply the fix to this code:
@@ -1061,7 +1061,7 @@ class ProspectsController < ApplicationController
 
-            scheduled: scheduled,
+            scheduled:,

Apply the fix to this code:
@@ -1649,7 +1649,7 @@ class ProspectsController < ApplicationController
 
-        task = Task.where(taskable_type: taskable_type, prospect_status_item_contact_id: prospect_status_item_contact.id).first
+        task = Task.where(taskable_type:, prospect_status_item_contact_id: prospect_status_item_contact.id).first

File: app/controllers/reports_controller.rb
Apply the fix to this code:
@@ -240,8 +240,8 @@ class ReportsController < ApplicationController
-          "sales" => Statistic.joins(:user).where('users.id': user.id).where(tenant: tenant, statistic_for: "#{params[:type]}-day").group_by_month(:date, time_zone: "UTC", range: @report_start_date..@report_end_date).sum(:total),
-          "sales_ly" => Statistic.joins(:user).where('users.id': user.id).where(tenant: tenant, statistic_for: "#{params[:type]}-day").group_by_month(:date, time_zone: "UTC", range: @report_start_date_ly..@report_end_date_ly).sum(:total),
+          "sales" => Statistic.joins(:user).where('users.id': user.id).where(tenant:, statistic_for: "#{params[:type]}-day").group_by_month(:date, time_zone: "UTC", range: @report_start_date..@report_end_date).sum(:total),
+          "sales_ly" => Statistic.joins(:user).where('users.id': user.id).where(tenant:, statistic_for: "#{params[:type]}-day").group_by_month(:date, time_zone: "UTC", range: @report_start_date_ly..@report_end_date_ly).sum(:total),

Apply the fix to this code:
@@ -664,7 +664,7 @@ class ReportsController < ApplicationController
-      @estimates = @estimates.where(estimates: {taken_by_user_id: taken_by_user_id}) if taken_by_user_id.present? && taken_by_user_id != "none"
+      @estimates = @estimates.where(estimates: {taken_by_user_id:}) if taken_by_user_id.present? && taken_by_user_id != "none"

Apply the fix to this code:
@@ -1407,15 +1407,15 @@ class ReportsController < ApplicationController
-      @primary = EmailValidation.result_query(tenant: @tenant, page: page, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], deliverable: true)
+      @primary = EmailValidation.result_query(tenant: @tenant, page:, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], deliverable: true)
-      @primary = EmailValidation.result_query(tenant: @tenant, page: page, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], deliverable_but_unverified: true)
+      @primary = EmailValidation.result_query(tenant: @tenant, page:, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], deliverable_but_unverified: true)
-      @primary = EmailValidation.result_query(tenant: @tenant, page: page, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], undeliverable: true)
+      @primary = EmailValidation.result_query(tenant: @tenant, page:, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], undeliverable: true)
-      @primary = EmailValidation.result_query(tenant: @tenant, page: page, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], unverified: true)
+      @primary = EmailValidation.result_query(tenant: @tenant, page:, sort: params[:sort], sort_order: params[:sort_order], search: params[:search], unverified: true)
-      @primary = EmailValidation.result_query(tenant: @tenant, page: page, sort: params[:sort], sort_order: params[:sort_order], search: params[:search])
+      @primary = EmailValidation.result_query(tenant: @tenant, page:, sort: params[:sort], sort_order: params[:sort_order], search: params[:search])

File: app/controllers/sales_controller.rb
Apply the fix to this code:
@@ -352,7 +352,7 @@ class SalesController < ApplicationController
 
-      @sale.update(reorder_date: reorder_date)
+      @sale.update(reorder_date:)

Apply the fix to this code:
@@ -371,7 +371,7 @@ class SalesController < ApplicationController
-          sale.update(reorder_date: reorder_date)
+          sale.update(reorder_date:)

File: app/controllers/targets_controller.rb
Apply the fix to this code:
@@ -21,7 +21,7 @@ class TargetsController < ApplicationController
-          target = Target.unscoped.find_or_initialize_by(tenant_id: @tenant.id, month: month, location_id: location.id, year: params[:targets][:year], klass: Target.klasses[params[:targets][:klass].singularize.downcase])
+          target = Target.unscoped.find_or_initialize_by(tenant_id: @tenant.id, month:, location_id: location.id, year: params[:targets][:year], klass: Target.klasses[params[:targets][:klass].singularize.downcase])

Apply the fix to this code:
@@ -37,7 +37,7 @@ class TargetsController < ApplicationController
 
-          target = Target.unscoped.find_or_initialize_by(tenant_id: @tenant.id, month: month, sales_rep_user_id: user.id, year: params[:targets][:year], klass: Target.klasses[params[:targets][:klass].singularize.downcase])
+          target = Target.unscoped.find_or_initialize_by(tenant_id: @tenant.id, month:, sales_rep_user_id: user.id, year: params[:targets][:year], klass: Target.klasses[params[:targets][:klass].singularize.downcase])


Once you've completed the changes, ensure all modified code follows the style guide and is tested.
